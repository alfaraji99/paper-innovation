const video = document.getElementById('video');
const results = document.getElementById('results');

async function startCamera() {
  try {
    const stream = await navigator.mediaDevices.getUserMedia({
      video: {
        facingMode: 'environment' // Ø§Ø³ØªØ®Ø¯Ø§Ù… Ø§Ù„ÙƒØ§Ù…ÙŠØ±Ø§ Ø§Ù„Ø®Ù„ÙÙŠØ©
      },
      audio: false
    });
    video.srcObject = stream;
    video.setAttribute('playsinline', true); // Ù…Ù‡Ù… Ù„Ø¨Ø¹Ø¶ Ø§Ù„Ù‡ÙˆØ§ØªÙ
    video.setAttribute('muted', true);
    video.play();
  } catch (error) {
    alert('âš ï¸ ÙØ´Ù„ ÙÙŠ ØªØ´ØºÙŠÙ„ Ø§Ù„ÙƒØ§Ù…ÙŠØ±Ø§: ' + error.message);
  }
}

startCamera();

function analyzeTree() {
  results.querySelector('.result-icon').textContent = "ğŸŒ´";
  results.querySelector('p:nth-of-type(1)').innerHTML = "<strong>Ø§Ù„Ù†ÙˆØ¹:</strong> Ù…ÙˆØ² Ø£Ø­Ù…Ø±";
  results.querySelector('p:nth-of-type(2)').innerHTML = "<strong>Ù†Ø³Ø¨Ø© Ø§Ù„Ø³Ù„ÙŠÙ„ÙˆØ²:</strong> 42%";
  results.querySelector('p:nth-of-type(3)').innerHTML = "<strong>Ø§Ù„Ø¹Ù…Ø± Ø§Ù„ØªÙ‚Ø±ÙŠØ¨ÙŠ:</strong> 6 Ø£Ø´Ù‡Ø±";
  results.classList.remove('hidden');
}

function resetAnalysis() {
  results.classList.add('hidden');
}
